{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\camper-rent-app\\\\src\\\\pages\\\\CatalogPage\\\\CatalogPage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FiltersBar from 'components/FiltersBar/FiltersBar';\nimport CatalogList from 'components/CatalogList/CatalogList';\nimport { fetchCampers } from 'store/operations';\nimport { Modal } from 'components/Modal/Modal';\nimport { selectCampers, selectPage, selectIsLoading, selectError, selectAll } from 'store/selectors';\nimport { CatalogPageWrapper, ListWrapper, Button } from './CatalogPage.module';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CatalogPage = () => {\n  _s();\n  const campers = useSelector(selectCampers);\n  const page = useSelector(selectPage);\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n  const dispatch = useDispatch();\n  const all = useSelector(selectAll);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedCamper, setSelectedCamper] = useState(null);\n  console.log('all', all);\n  useEffect(() => {\n    dispatch(fetchCampers());\n  }, [dispatch]);\n  if (isLoading && !error) {\n    return /*#__PURE__*/_jsxDEV(\"b\", {\n      children: \"Request in progress...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"b\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  }\n  const toggleModal = data => {\n    setShowModal(!showModal);\n    setSelectedCamper(data);\n  };\n  const onLoadMore = () => {\n    dispatch(fetchCampers(page + 1));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CatalogPageWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(FiltersBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ListWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(CatalogList, {\n          campers: campers,\n          toggleModal: toggleModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), campers.length > 0 && !isLoading && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onLoadMore,\n          children: \"Load more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n      onClose: toggleModal,\n      campers: selectedCamper\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true);\n};\n_s(CatalogPage, \"cTF9KMVfCLQDBjFAPyFHK7AV08g=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useDispatch, useSelector];\n});\n_c = CatalogPage;\nexport default CatalogPage;\nvar _c;\n$RefreshReg$(_c, \"CatalogPage\");","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","FiltersBar","CatalogList","fetchCampers","Modal","selectCampers","selectPage","selectIsLoading","selectError","selectAll","CatalogPageWrapper","ListWrapper","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","CatalogPage","_s","campers","page","isLoading","error","dispatch","all","showModal","setShowModal","selectedCamper","setSelectedCamper","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","toggleModal","data","onLoadMore","length","onClick","onClose","_c","$RefreshReg$"],"sources":["C:/Projects/camper-rent-app/src/pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FiltersBar from 'components/FiltersBar/FiltersBar';\r\nimport CatalogList from 'components/CatalogList/CatalogList';\r\nimport { fetchCampers } from 'store/operations';\r\nimport { Modal } from 'components/Modal/Modal';\r\nimport { selectCampers, selectPage, selectIsLoading, selectError, selectAll } from 'store/selectors';\r\n\r\nimport { CatalogPageWrapper, ListWrapper, Button } from './CatalogPage.module';\r\n\r\nconst CatalogPage = () => {\r\n  const campers = useSelector(selectCampers);\r\n  const page = useSelector(selectPage);\r\n  const isLoading = useSelector(selectIsLoading);\r\n  const error = useSelector(selectError);\r\n  const dispatch = useDispatch();\r\n\r\n  const all = useSelector(selectAll);\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [selectedCamper, setSelectedCamper] = useState(null);\r\n\r\n  console.log('all', all);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCampers());\r\n  }, [dispatch]);\r\n\r\n  if (isLoading && !error) {\r\n    return <b>Request in progress...</b>;\r\n  }\r\n\r\n  if (error) {\r\n    return <b>{error}</b>;\r\n  }\r\n\r\n  const toggleModal = data => {\r\n    setShowModal(!showModal);\r\n    setSelectedCamper(data);\r\n  };\r\n\r\n  const onLoadMore = () => {\r\n    dispatch(fetchCampers(page + 1));\r\n  };\r\n\r\n  return (\r\n   <>\r\n    <CatalogPageWrapper>\r\n      <FiltersBar />\r\n      <ListWrapper>\r\n        <CatalogList campers={campers} toggleModal={toggleModal}/>\r\n        {campers.length > 0 && !isLoading && <Button onClick={onLoadMore}>Load more</Button>}\r\n      </ListWrapper>\r\n    </CatalogPageWrapper>\r\n     {showModal && <Modal onClose={toggleModal} campers={selectedCamper} />}\r\n   </>\r\n  );\r\n};\r\n\r\nexport default CatalogPage;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,OAAOC,UAAU,MAAM,kCAAkC;AACzD,OAAOC,WAAW,MAAM,oCAAoC;AAC5D,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,KAAK,QAAQ,wBAAwB;AAC9C,SAASC,aAAa,EAAEC,UAAU,EAAEC,eAAe,EAAEC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AAEpG,SAASC,kBAAkB,EAAEC,WAAW,EAAEC,MAAM,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/E,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,OAAO,GAAGnB,WAAW,CAACK,aAAa,CAAC;EAC1C,MAAMe,IAAI,GAAGpB,WAAW,CAACM,UAAU,CAAC;EACpC,MAAMe,SAAS,GAAGrB,WAAW,CAACO,eAAe,CAAC;EAC9C,MAAMe,KAAK,GAAGtB,WAAW,CAACQ,WAAW,CAAC;EACtC,MAAMe,QAAQ,GAAGxB,WAAW,CAAC,CAAC;EAE9B,MAAMyB,GAAG,GAAGxB,WAAW,CAACS,SAAS,CAAC;EAElC,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC6B,cAAc,EAAEC,iBAAiB,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAE1D+B,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEN,GAAG,CAAC;EAEvB3B,SAAS,CAAC,MAAM;IACd0B,QAAQ,CAACpB,YAAY,CAAC,CAAC,CAAC;EAC1B,CAAC,EAAE,CAACoB,QAAQ,CAAC,CAAC;EAEd,IAAIF,SAAS,IAAI,CAACC,KAAK,EAAE;IACvB,oBAAOR,OAAA;MAAAiB,QAAA,EAAG;IAAsB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EACtC;EAEA,IAAIb,KAAK,EAAE;IACT,oBAAOR,OAAA;MAAAiB,QAAA,EAAIT;IAAK;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EACvB;EAEA,MAAMC,WAAW,GAAGC,IAAI,IAAI;IAC1BX,YAAY,CAAC,CAACD,SAAS,CAAC;IACxBG,iBAAiB,CAACS,IAAI,CAAC;EACzB,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvBf,QAAQ,CAACpB,YAAY,CAACiB,IAAI,GAAG,CAAC,CAAC,CAAC;EAClC,CAAC;EAED,oBACCN,OAAA,CAAAE,SAAA;IAAAe,QAAA,gBACCjB,OAAA,CAACJ,kBAAkB;MAAAqB,QAAA,gBACjBjB,OAAA,CAACb,UAAU;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACdrB,OAAA,CAACH,WAAW;QAAAoB,QAAA,gBACVjB,OAAA,CAACZ,WAAW;UAACiB,OAAO,EAAEA,OAAQ;UAACiB,WAAW,EAAEA;QAAY;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,EACzDhB,OAAO,CAACoB,MAAM,GAAG,CAAC,IAAI,CAAClB,SAAS,iBAAIP,OAAA,CAACF,MAAM;UAAC4B,OAAO,EAAEF,UAAW;UAAAP,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,EACnBV,SAAS,iBAAIX,OAAA,CAACV,KAAK;MAACqC,OAAO,EAAEL,WAAY;MAACjB,OAAO,EAAEQ;IAAe;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACtE,CAAC;AAEN,CAAC;AAACjB,EAAA,CA/CID,WAAW;EAAA,QACCjB,WAAW,EACdA,WAAW,EACNA,WAAW,EACfA,WAAW,EACRD,WAAW,EAEhBC,WAAW;AAAA;AAAA0C,EAAA,GAPnBzB,WAAW;AAiDjB,eAAeA,WAAW;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}